<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تسجيل الدخول | ميـل ماستر</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="styles odoo/login.css" />
  </head>
  <body>
    <div class="login-container">
      <div class="login-logo">
        <img src="images/logo/login/Meal.png" alt="شعار ميل ماستر" />
      </div>
      <div class="login-description-w">
        <p>
          قم بالوصول وإدارة طلبات موظفي الكافتيريا والمستخدمين بكفاءة مع ميل
          ماستر.
        </p>
      </div>
      <hr
        style="width: 99%;border: none;height: 1px;
          
          
          
          background-color: rgba(49, 49, 49, 0.096);
        "
      />
      <!-- <div class="login-title">تسجيل الدخول إلى حسابك</div> -->
      <form class="login-form" id="login-form" action="#" method="POST">
        <div style="margin-top: 10px">
          <label for="email">البريد الإلكتروني</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="أدخل بريدك الإلكتروني"
            required
          />
        </div>
        <div style="margin-bottom: 20px;">
          <label for="password">كلمة المرور</label>
          <div class="password-field">
            <input
              type="password"
              id="password"
              name="password"
              placeholder="أدخل كلمة المرور"
              required
            />
            <button type="button" class="password-toggle">
              <i class="fas fa-eye"></i>
            </button>
          </div>
        </div>
        <!-- clean code can help your traam work with you -->

        <button
          class="login-button-down"
          type="submit"
          style="margin-top: 9px; margin-bottom: 33px"
        >
          تسجيل الدخول
        </button>
        <div
          id="login-error"
          style="color: red; text-align: center; display: none"
        ></div>
      </form>
    </div>

    <div class="icons-pages-container">
      <div class="image-con-inside">
        <a
          href="cafatria-staff-pages\cafateria-order-taker.html"
          class="icon-wrapper"
        >
          <img
            src="images/people/icons/kitchen-icon.png"
            alt="Kitchen"
            class="img-page-icon-nav"
          />
          <span>Cafetria</span>
        </a>

        <a href="employee-pages\employee-new-order.html" class="icon-wrapper">
          <img
            src="images/people/icons/employee-icon.webp"
            alt="Employee"
            class="img-page-icon-nav"
          />
          <span>Employee</span>
        </a>

        <a href="admin.html" class="icon-wrapper">
          <img
            src="images/people/icons/admin-icon.png"
            alt="Admin"
            class="img-page-icon-nav"
          />
          <span>Admin</span>
        </a>
      </div>
    </div>

    <script>
      // Password toggle functionality
      document.addEventListener("DOMContentLoaded", function () {
        const passwordToggle = document.querySelector(".password-toggle");
        const passwordInput = document.getElementById("password");

        passwordToggle.addEventListener("click", function () {
          const type =
            passwordInput.getAttribute("type") === "password"
              ? "text"
              : "password";
          passwordInput.setAttribute("type", type);

          // Toggle icon
          const icon = this.querySelector("i");
          if (type === "password") {
            icon.className = "fas fa-eye";
          } else {
            icon.className = "fas fa-eye-slash";
          }
        });
      });

      document
        .getElementById("login-form")
        .addEventListener("submit", async function (e) {
          e.preventDefault();
          const email = document.getElementById("email").value;
          const password = document.getElementById("password").value;
          // Show loading state here
          try {
            // Replace with real API endpoint
            const response = await fetch("/api/login", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email, password }),
            });
            if (!response.ok) throw new Error("Login failed");
            const data = await response.json();
            // Save token, redirect, etc.
            localStorage.setItem("token", data.token);
            window.location.href = "/dashboard.html"; // or wherever
          } catch (err) {
            document.getElementById("login-error").textContent =
              "خطأ في تسجيل الدخول. تحقق من البيانات.";
            document.getElementById("login-error").style.display = "block";
          }
          // Hide loading state here
        });
    </script>
  </body>
</html>
